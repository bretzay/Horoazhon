{% extends 'base.html.twig' %}

{% block title %}Admin - Donnees de reference{% endblock %}

{% block body %}
<div class="page-header">
    <h1>Donnees de reference</h1>
    <a href="{{ path('admin_dashboard') }}" class="btn btn-secondary">Retour</a>
</div>

<div class="detail-grid">
    {# ===== Characteristics ===== #}
    <div class="card">
        <h3>Caracteristiques</h3>
        <form method="POST" action="{{ path('admin_ref_carac_add') }}" class="form-inline" style="margin-bottom: 1rem;">
            <div class="form-group" style="flex: 1;">
                <input type="text" name="lib" placeholder="Nouvelle caracteristique..." required>
            </div>
            <button type="submit" class="btn btn-success btn-sm">Ajouter</button>
        </form>
        {% for c in caracteristiques %}
            <div class="section-item">
                <form method="POST" action="{{ path('admin_ref_carac_edit', {id: c.id}) }}" class="form-inline" style="flex: 1; gap: 0.25rem;">
                    <input type="text" name="lib" value="{{ c.lib }}" required style="flex: 1; padding: 0.25rem 0.5rem; font-size: 0.85rem;">
                    <button type="submit" class="btn btn-primary btn-sm">OK</button>
                </form>
                <form method="POST" action="{{ path('admin_ref_carac_delete', {id: c.id}) }}" style="display:inline; margin-left: 0.25rem;" onsubmit="return confirm('Supprimer ?')">
                    <button type="submit" class="btn btn-danger btn-sm">X</button>
                </form>
            </div>
        {% else %}
            <p style="color: #94a3b8;">Aucune.</p>
        {% endfor %}
    </div>

    {# ===== Places ===== #}
    <div class="card">
        <h3>Lieux d'interet</h3>
        <form method="POST" action="{{ path('admin_ref_lieu_add') }}" class="form-inline" style="margin-bottom: 1rem;">
            <div class="form-group" style="flex: 1;">
                <input type="text" name="lib" placeholder="Nouveau lieu..." required>
            </div>
            <button type="submit" class="btn btn-success btn-sm">Ajouter</button>
        </form>
        {% for l in lieux %}
            <div class="section-item">
                <form method="POST" action="{{ path('admin_ref_lieu_edit', {id: l.id}) }}" class="form-inline" style="flex: 1; gap: 0.25rem;">
                    <input type="text" name="lib" value="{{ l.lib }}" required style="flex: 1; padding: 0.25rem 0.5rem; font-size: 0.85rem;">
                    <button type="submit" class="btn btn-primary btn-sm">OK</button>
                </form>
                <form method="POST" action="{{ path('admin_ref_lieu_delete', {id: l.id}) }}" style="display:inline; margin-left: 0.25rem;" onsubmit="return confirm('Supprimer ?')">
                    <button type="submit" class="btn btn-danger btn-sm">X</button>
                </form>
            </div>
        {% else %}
            <p style="color: #94a3b8;">Aucun.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
